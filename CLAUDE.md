# –Ø–ó–´–ö –û–ë–©–ï–ù–ò–Ø

–í—Å–µ–≥–¥–∞ –æ—Ç–≤–µ—á–∞–π –¢–û–õ–¨–ö–û –ù–ê –†–£–°–°–ö–û–ú –Ø–ó–´–ö–ï

---

# CLAUDE.md - –ì–ª–∞–≤–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è PsyDream

**PsyDream** - —ç—Ç–æ React + TypeScript –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –ø—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ —Å–Ω–æ–≤ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã AI –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤ (Gemini, OpenAI, Claude, AiTunnel, NeuroAPI –∏ –¥—Ä.). –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –æ–ø–∏—Å—ã–≤–∞—Ç—å —Å–Ω—ã, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç, –≤—ã–±–∏—Ä–∞—Ç—å –º–µ—Ç–æ–¥ –ø—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ (–Æ–Ω–≥–∏–∞–Ω—Å–∫–∏–π, –§—Ä–µ–π–¥–∏—Å—Ç—Å–∫–∏–π, –ì–µ—à—Ç–∞–ª—å—Ç, –ö–æ–≥–Ω–∏—Ç–∏–≤–Ω—ã–π, –≠–∫–∑–∏—Å—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–π –∏–ª–∏ –ê–≤—Ç–æ), –∏ –ø–æ–ª—É—á–∞—Ç—å AI-–∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏–∏ —Å –∞–Ω–∞–ª–∏–∑–æ–º —Å–∏–º–≤–æ–ª–∏–∑–º–∞ –∏ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–µ–π.

---

## ‚ö†Ô∏è –ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

**–ü–æ—Å–ª–µ –õ–Æ–ë–´–• –∑–Ω–∞—á–∏–º—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ –ø—Ä–æ–µ–∫—Ç–µ —Ç—ã –û–ë–Ø–ó–ê–ù –æ–±–Ω–æ–≤–∏—Ç—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â—É—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é!**

### –ß—Ç–æ —Å—á–∏—Ç–∞–µ—Ç—Å—è "–∑–Ω–∞—á–∏–º—ã–º–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏"

| –ò–∑–º–µ–Ω–µ–Ω–∏–µ | –ö–∞–∫–∏–µ —Ñ–∞–π–ª—ã –æ–±–Ω–æ–≤–∏—Ç—å |
|-----------|----------------------|
| –î–æ–±–∞–≤–ª–µ–Ω–∏–µ/—É–¥–∞–ª–µ–Ω–∏–µ views, routes | [docs/ARCHITECTURE.md](docs/ARCHITECTURE.md), —ç—Ç–æ—Ç —Ñ–∞–π–ª |
| –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Å—Ö–µ–º–µ –ë–î, —Ç–∞–±–ª–∏—Ü–∞—Ö, RLS –ø–æ–ª–∏—Ç–∏–∫–∞—Ö | [docs/DATABASE.md](docs/DATABASE.md), —ç—Ç–æ—Ç —Ñ–∞–π–ª |
| –î–æ–±–∞–≤–ª–µ–Ω–∏–µ/—É–¥–∞–ª–µ–Ω–∏–µ AI –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤ –∏–ª–∏ –º–æ–¥–µ–ª–µ–π | [docs/AI_PROVIDERS.md](docs/AI_PROVIDERS.md), —ç—Ç–æ—Ç —Ñ–∞–π–ª |
| –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ wizard flow (—à–∞–≥–∏ –∞–Ω–∞–ª–∏–∑–∞ —Å–Ω–æ–≤) | [docs/DREAM_ANALYSIS.md](docs/DREAM_ANALYSIS.md), —ç—Ç–æ—Ç —Ñ–∞–π–ª |
| –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Å–∏—Å—Ç–µ–º–µ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏, —Ä–æ–ª—è—Ö | [docs/AUTHENTICATION.md](docs/AUTHENTICATION.md), —ç—Ç–æ—Ç —Ñ–∞–π–ª |
| –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ Admin Panel —Ñ—É–Ω–∫—Ü–∏—è—Ö | [docs/ADMIN_PANEL.md](docs/ADMIN_PANEL.md), —ç—Ç–æ—Ç —Ñ–∞–π–ª |
| –î–æ–±–∞–≤–ª–µ–Ω–∏–µ/—É–¥–∞–ª–µ–Ω–∏–µ React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ | [docs/UI_COMPONENTS.md](docs/UI_COMPONENTS.md), —ç—Ç–æ—Ç —Ñ–∞–π–ª |
| –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ TypeScript —Ç–∏–ø–∞—Ö, –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞—Ö, enum'–∞—Ö | [docs/TYPES_AND_CONSTANTS.md](docs/TYPES_AND_CONSTANTS.md), —ç—Ç–æ—Ç —Ñ–∞–π–ª |
| –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ storage —Å–∏—Å—Ç–µ–º–µ (Supabase/localStorage) | [docs/STORAGE.md](docs/STORAGE.md), —ç—Ç–æ—Ç —Ñ–∞–π–ª |
| –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ dev –∫–æ–º–∞–Ω–¥–∞—Ö, deployment, API –∫–ª—é—á–∞—Ö | [docs/DEVELOPMENT.md](docs/DEVELOPMENT.md), —ç—Ç–æ—Ç —Ñ–∞–π–ª |

**–í–∞–∂–Ω–æ:**
- –û–±–Ω–æ–≤–ª—è–π **—Å—Ä–∞–∑—É –ø–æ—Å–ª–µ** –≤–Ω–µ—Å–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π
- –û–±–Ω–æ–≤–ª—è–π **–∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Å–µ–∫—Ü–∏–∏**, –Ω–µ –ø–µ—Ä–µ–ø–∏—Å—ã–≤–∞–π –≤–µ—Å—å —Ñ–∞–π–ª
- –ü—Ä–æ–≤–µ—Ä—è–π **cross-references** –º–µ–∂–¥—É —Ñ–∞–π–ª–∞–º–∏ (—Å—Å—ã–ª–∫–∏ –º–æ–≥—É—Ç —É—Å—Ç–∞—Ä–µ—Ç—å)

---

## üìö –ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

### üéØ –û—Å–Ω–æ–≤–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã

–î–ª—è **–ø–æ–ª–Ω–æ–≥–æ –ø–æ–Ω–∏–º–∞–Ω–∏—è** —Å–∏—Å—Ç–µ–º—ã –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –∏–∑—É—á–∏ —ç—Ç–∏ –¥–æ–∫—É–º–µ–Ω—Ç—ã:

| –î–æ–∫—É–º–µ–Ω—Ç | –û–ø–∏—Å–∞–Ω–∏–µ | –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å |
|----------|----------|-------------------|
| [ARCHITECTURE.md](docs/ARCHITECTURE.md) | –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, routing, state management | –ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ views |
| [DATABASE.md](docs/DATABASE.md) | –ü–æ–ª–Ω–∞—è —Å—Ö–µ–º–∞ –ë–î (13 —Ç–∞–±–ª–∏—Ü), RLS –ø–æ–ª–∏—Ç–∏–∫–∏ | –ü–µ—Ä–µ–¥ –ª—é–±—ã–º–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏ –≤ –ë–î (**–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –ø—Ä–æ–≤–µ—Ä—å Supabase!**) |
| [AI_PROVIDERS.md](docs/AI_PROVIDERS.md) | –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ AI –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤ (Factory + Strategy) | –ü—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å AI, –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤/–º–æ–¥–µ–ª–µ–π |
| [DREAM_ANALYSIS.md](docs/DREAM_ANALYSIS.md) | Wizard –∞–Ω–∞–ª–∏–∑–∞ —Å–Ω–æ–≤ (4 —à–∞–≥–∞), two-stage analysis | –ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –ª–æ–≥–∏–∫–∏ –∞–Ω–∞–ª–∏–∑–∞ —Å–Ω–æ–≤ |
| [AUTHENTICATION.md](docs/AUTHENTICATION.md) | Supabase Auth, —Ä–æ–ª–∏ (user/admin), RLS | –ü—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–µ–π, —Ä–æ–ª—è–º–∏, –∑–∞—â–∏—Ç–æ–π –¥–∞–Ω–Ω—ã—Ö |

### üîß –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏

| –î–æ–∫—É–º–µ–Ω—Ç | –û–ø–∏—Å–∞–Ω–∏–µ | –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å |
|----------|----------|-------------------|
| [STORAGE.md](docs/STORAGE.md) | –ì–∏–±—Ä–∏–¥–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ (Supabase + localStorage) | –ü—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º/–∑–∞–≥—Ä—É–∑–∫–æ–π –¥–∞–Ω–Ω—ã—Ö |
| [ADMIN_PANEL.md](docs/ADMIN_PANEL.md) | –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å (5 —Ä–∞–∑–¥–µ–ª–æ–≤), —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏/AI | –ü—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å –∞–¥–º–∏–Ω-—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–æ–º |
| [UI_COMPONENTS.md](docs/UI_COMPONENTS.md) | –ö–∞—Ç–∞–ª–æ–≥ –≤—Å–µ—Ö React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ (30+) | –ü—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å UI, –ø–æ–∏—Å–∫–µ –Ω—É–∂–Ω–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ |
| [TYPES_AND_CONSTANTS.md](docs/TYPES_AND_CONSTANTS.md) | –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ TypeScript —Ç–∏–ø–æ–≤ –∏ –∫–æ–Ω—Å—Ç–∞–Ω—Ç | –ü—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å —Ç–∏–ø–∞–º–∏, –ø–æ–∏—Å–∫–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤ |
| [DEVELOPMENT.md](docs/DEVELOPMENT.md) | Dev setup, deployment –Ω–∞ Vercel, API –∫–ª—é—á–∏ | –ü—Ä–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è, –¥–µ–ø–ª–æ–µ |

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞

```bash
npm install          # –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
npm run dev          # –ó–∞–ø—É—Å–∫ Vite dev server (http://localhost:5173)
npm run build        # Production build
npm run preview      # –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä production build
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–°–æ–∑–¥–∞–π `.env` —Ñ–∞–π–ª –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:

```env
# Gemini API Key (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—à—å Gemini)
VITE_API_KEY=your_gemini_api_key_here

# Supabase Configuration (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –¥–ª—è Auth –∏ –ë–î)
VITE_SUPABASE_URL=your_supabase_project_url
VITE_SUPABASE_ANON_KEY=your_supabase_anon_key

# OpenAI API Key (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
VITE_OPENAI_API_KEY=your_openai_api_key

# Claude API Key (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
VITE_CLAUDE_API_KEY=your_claude_api_key

# AiTunnel Key (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
VITE_AITUNNEL_KEY=your_aitunnel_key

# NeuroAPI Key (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
VITE_NEUROAPI_KEY=your_neuroapi_key
```

**–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–æ:**
- –í—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –î–û–õ–ñ–ù–´ –Ω–∞—á–∏–Ω–∞—Ç—å—Å—è —Å `VITE_` –¥–ª—è —Ä–∞–±–æ—Ç—ã –≤ –∫–ª–∏–µ–Ω—Ç–µ
- –ü–æ–¥—Ä–æ–±–Ω–µ–µ –æ –ø–æ–ª—É—á–µ–Ω–∏–∏ API –∫–ª—é—á–µ–π: [docs/DEVELOPMENT.md](docs/DEVELOPMENT.md)

---

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ –ø–æ—Ç–æ–∫–∏ –¥–∞–Ω–Ω—ã—Ö

### –°–∏—Å—Ç–µ–º–∞ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏ (View-Based)

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ **–ù–ï –∏—Å–ø–æ–ª—å–∑—É–µ—Ç** React Router. –í–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è view-based —Å–∏—Å—Ç–µ–º–∞ —Å —Ç–∏–ø–æ–º `AppView`:

```typescript
export type AppView =
  | 'landing'      // –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
  | 'auth'         // –õ–æ–≥–∏–Ω/—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è (Supabase Auth)
  | 'wizard'       // Wizard –∞–Ω–∞–ª–∏–∑–∞ —Å–Ω–æ–≤ (4 —à–∞–≥–∞)
  | 'dashboard'    // –õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç (–∑–∞—â–∏—â—ë–Ω)
  | 'journal'      // –ñ—É—Ä–Ω–∞–ª —Å–Ω–æ–≤ (–∑–∞—â–∏—â—ë–Ω)
  | 'analytics'    // –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–∑–∞—â–∏—â—ë–Ω)
  | 'settings'     // –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ—Ñ–∏–ª—è (–∑–∞—â–∏—â—ë–Ω)
  | 'archetypes'   // –ê–Ω–∞–ª–∏–∑ –∞—Ä—Ö–µ—Ç–∏–ø–æ–≤ (–∑–∞—â–∏—â—ë–Ω)
  | 'admin'        // –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å (—Ç—Ä–µ–±—É–µ—Ç admin —Ä–æ–ª—å)
  | 'dreamView';   // –ü—Ä–æ—Å–º–æ—Ç—Ä –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ —Å–Ω–∞ (–∑–∞—â–∏—â—ë–Ω)
```

–ù–∞–≤–∏–≥–∞—Ü–∏—è —á–µ—Ä–µ–∑ —Ñ—É–Ω–∫—Ü–∏—é `navigateTo(view: AppView)` –≤ [App.tsx](App.tsx).

**–ü–æ–¥—Ä–æ–±–Ω–µ–µ:** [docs/ARCHITECTURE.md](docs/ARCHITECTURE.md)

### –ü–æ—Ç–æ–∫ –∞–Ω–∞–ª–∏–∑–∞ —Å–Ω–∞

```
1. User Input (3 —à–∞–≥–∞ wizard)
   ‚îú‚îÄ Step 1: –û–ø–∏—Å–∞–Ω–∏–µ —Å–Ω–∞ (textarea)
   ‚îú‚îÄ Step 2: –ö–æ–Ω—Ç–µ–∫—Å—Ç (8 –ø–æ–ª–µ–π: emotion, lifeSituation, etc.)
   ‚îî‚îÄ Step 3: –í—ã–±–æ—Ä –º–µ—Ç–æ–¥–∞ (PsychMethod enum)

2. AI Analysis (aiService.ts ‚Üí –∞–∫—Ç–∏–≤–Ω—ã–π –ø—Ä–æ–≤–∞–π–¥–µ—Ä)
   ‚îú‚îÄ Stage 1: summary + analysis + advice + questions + symbol names
   ‚îî‚îÄ Stage 2: –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –¥–ª—è –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–∏ –∫–∞–∂–¥–æ–≥–æ —Å–∏–º–≤–æ–ª–∞

3. –†–µ–∑—É–ª—å—Ç–∞—Ç (AnalysisResult.tsx)
   ‚îú‚îÄ –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ summary, analysis, symbolism, advice, questions
   ‚îî‚îÄ –û–ø—Ü–∏—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è (–∞–∫—Ç–∏–≤–Ω—ã–π image provider)

4. –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –∂—É—Ä–Ω–∞–ª (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
   ‚îî‚îÄ supabaseStorageService ‚Üí dream_entries table (protected by RLS)
```

**–ü–æ–¥—Ä–æ–±–Ω–µ–µ:** [docs/DREAM_ANALYSIS.md](docs/DREAM_ANALYSIS.md)

### –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ AI –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤

PsyDream –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **—É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—É—é —Å–∏—Å—Ç–µ–º—É AI –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤**, –∞ –Ω–µ –ø—Ä–∏–≤—è–∑–∞–Ω –∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º—É AI.

**–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:**
- **AIService (Singleton)** - –≥–ª–∞–≤–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è AI –æ–ø–µ—Ä–∞—Ü–∏–π
- **AIProviderFactory** - —Å–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤ –ø–æ —Ç–∏–ø—É
- **BaseProvider** - –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–π –±–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å
- **–ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã** - GeminiProvider, OpenAIProvider, ClaudeProvider

**Task-based routing:**
- –û—Ç–¥–µ–ª—å–Ω—ã–π –ø—Ä–æ–≤–∞–π–¥–µ—Ä –¥–ª—è **text** –∑–∞–¥–∞—á (–∞–Ω–∞–ª–∏–∑ —Å–Ω–æ–≤)
- –û—Ç–¥–µ–ª—å–Ω—ã–π –ø—Ä–æ–≤–∞–π–¥–µ—Ä –¥–ª—è **image** –∑–∞–¥–∞—á (–≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π)
- –í—ã–±–æ—Ä –≤ Admin Panel ‚Üí AI Providers

**–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã:**
- Gemini (Google AI)
- OpenAI (GPT-4, DALL-E 3)
- Claude (Anthropic)
- AiTunnel (OpenAI-compatible API)
- NeuroAPI (67+ —Ä–æ—Å—Å–∏–π—Å–∫–∏—Ö –º–æ–¥–µ–ª–µ–π)

**–ü–æ–¥—Ä–æ–±–Ω–µ–µ:** [docs/AI_PROVIDERS.md](docs/AI_PROVIDERS.md)

### –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è

**Supabase Auth** –¥–ª—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏, –≤—Ö–æ–¥–∞, —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏.

**–†–æ–ª–∏:**
- `user` - –æ–±—ã—á–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å (–¥–æ—Å—Ç—É–ø –∫ —Å–≤–æ–∏–º —Å–Ω–∞–º)
- `admin` - –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä (–¥–æ—Å—Ç—É–ø –∫ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏)

**–ó–∞—â–∏—Ç–∞ –¥–∞–Ω–Ω—ã—Ö:**
- **Row Level Security (RLS)** - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –≤–∏–¥—è—Ç —Ç–æ–ª—å–∫–æ —Å–≤–æ–∏ –¥–∞–Ω–Ω—ã–µ
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –º–∏–≥—Ä–∞—Ü–∏—è localStorage ‚Üí Supabase –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –≤—Ö–æ–¥–µ

**–ü–æ–¥—Ä–æ–±–Ω–µ–µ:** [docs/AUTHENTICATION.md](docs/AUTHENTICATION.md)

### –ì–∏–±—Ä–∏–¥–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ

**Primary:** Supabase (–µ—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω)
- `dream_entries` - –∂—É—Ä–Ω–∞–ª —Å–Ω–æ–≤
- `analysis_metadata` - –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –∞–Ω–∞–ª–∏–∑–æ–≤
- `user_profiles` - –ø—Ä–æ—Ñ–∏–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –ò –µ—â—ë 10 —Ç–∞–±–ª–∏—Ü (—Å–º. [docs/DATABASE.md](docs/DATABASE.md))

**Fallback:** localStorage (–µ—Å–ª–∏ Supabase –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω)
- –ö–ª—é—á `mindscape_journal_v1`
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –º–∏–≥—Ä–∞—Ü–∏—è –≤ Supabase –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –ª–æ–≥–∏–Ω–µ

**–ü–æ–¥—Ä–æ–±–Ω–µ–µ:** [docs/STORAGE.md](docs/STORAGE.md)

---

## üìÇ –í–∞–∂–Ω—ã–µ —Ñ–∞–π–ª—ã –∏ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏

### –ö–ª—é—á–µ–≤—ã–µ —Ñ–∞–π–ª—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

| –§–∞–π–ª | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|----------|
| [App.tsx](App.tsx) | –ì–ª–∞–≤–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç: routing, layout, state management, authentication |
| [types.ts](types.ts) | –í—Å–µ TypeScript —Ç–∏–ø—ã –∏ enum'—ã (—Å–º. [docs/TYPES_AND_CONSTANTS.md](docs/TYPES_AND_CONSTANTS.md)) |
| [constants.ts](constants.ts) | –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –º–µ—Ç–æ–¥–æ–≤ –ø—Å–∏—Ö–æ–∞–Ω–∞–ª–∏–∑–∞, –ø—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —ç–º–æ—Ü–∏–∏ |

### AI —Å–∏—Å—Ç–µ–º–∞

| –§–∞–π–ª | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|----------|
| [services/ai/aiService.ts](services/ai/aiService.ts) | Singleton –¥–ª—è AI –æ–ø–µ—Ä–∞—Ü–∏–π, task-based routing |
| [services/ai/AIProviderFactory.ts](services/ai/AIProviderFactory.ts) | –§–∞–±—Ä–∏–∫–∞ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤ |
| [services/ai/providers/BaseProvider.ts](services/ai/providers/BaseProvider.ts) | –ê–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–π –±–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å |
| [services/ai/providers/GeminiProvider.ts](services/ai/providers/GeminiProvider.ts) | Gemini –ø—Ä–æ–≤–∞–π–¥–µ—Ä |
| [services/ai/providers/OpenAIProvider.ts](services/ai/providers/OpenAIProvider.ts) | OpenAI/AiTunnel/NeuroAPI –ø—Ä–æ–≤–∞–π–¥–µ—Ä |
| [services/ai/providers/ClaudeProvider.ts](services/ai/providers/ClaudeProvider.ts) | Claude –ø—Ä–æ–≤–∞–π–¥–µ—Ä |

### –°–µ—Ä–≤–∏—Å—ã —Ö—Ä–∞–Ω–µ–Ω–∏—è –∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏

| –§–∞–π–ª | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|----------|
| [services/supabaseClient.ts](services/supabaseClient.ts) | –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Supabase client |
| [services/supabaseStorageService.ts](services/supabaseStorageService.ts) | CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å Supabase |
| [services/storageService.ts](services/storageService.ts) | localStorage fallback |
| [services/authService.ts](services/authService.ts) | signUp, signIn, signOut, updateProfile, isAdmin |
| [services/adminService.ts](services/adminService.ts) | –ê–¥–º–∏–Ω-—Ñ—É–Ω–∫—Ü–∏–∏ (—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏, AI –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞–º–∏) |

### React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

| –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è | –û–ø–∏—Å–∞–Ω–∏–µ |
|-----------|----------|
| [components/](components/) | –í—Å–µ React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (30+ —à—Ç—É–∫) |
| [components/Auth.tsx](components/Auth.tsx) | –õ–æ–≥–∏–Ω/—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è |
| [components/Sidebar.tsx](components/Sidebar.tsx) | –ë–æ–∫–æ–≤–æ–µ –º–µ–Ω—é –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ |
| [components/AdminPanel.tsx](components/AdminPanel.tsx) | –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å |
| [components/DreamForm.tsx](components/DreamForm.tsx) | Wizard Step 1 |
| [components/ContextForm.tsx](components/ContextForm.tsx) | Wizard Step 2 |
| [components/MethodSelector.tsx](components/MethodSelector.tsx) | Wizard Step 3 |
| [components/AnalysisResult.tsx](components/AnalysisResult.tsx) | Wizard Step 4 |

**–ü–æ–ª–Ω—ã–π –∫–∞—Ç–∞–ª–æ–≥:** [docs/UI_COMPONENTS.md](docs/UI_COMPONENTS.md)

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

| –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è | –û–ø–∏—Å–∞–Ω–∏–µ |
|-----------|----------|
| [supabase/migrations/](supabase/migrations/) | SQL –º–∏–≥—Ä–∞—Ü–∏–∏ (20+ —Ñ–∞–π–ª–æ–≤) |

**–ü–æ–¥—Ä–æ–±–Ω–µ–µ –æ —Å—Ö–µ–º–µ:** [docs/DATABASE.md](docs/DATABASE.md)

---

## üéØ –ë—ã—Å—Ç—Ä–∞—è —Å–ø—Ä–∞–≤–∫–∞ –¥–ª—è —á–∞—Å—Ç—ã—Ö –∑–∞–¥–∞—á

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ AI –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞

1. –°–æ–∑–¥–∞–π –∫–ª–∞—Å—Å –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ –≤ `/services/ai/providers/YourProvider.ts` (–Ω–∞—Å–ª–µ–¥–Ω–∏–∫ `BaseProvider`)
2. –î–æ–±–∞–≤—å case –≤ `AIProviderFactory.create()` ([AIProviderFactory.ts:44-58](services/ai/AIProviderFactory.ts:44-58))
3. –î–æ–±–∞–≤—å —Ç–∏–ø –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ –≤ `AIProviderType` ([types.ts:246](types.ts:246))
4. –°–æ–∑–¥–∞–π –º–∏–≥—Ä–∞—Ü–∏—é –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ –≤ –ë–î
5. **–û–±–Ω–æ–≤–∏:** [docs/AI_PROVIDERS.md](docs/AI_PROVIDERS.md), —ç—Ç–æ—Ç —Ñ–∞–π–ª

**–ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è:** [docs/AI_PROVIDERS.md - "–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞"](docs/AI_PROVIDERS.md)

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–π view (—Å—Ç—Ä–∞–Ω–∏—Ü—ã)

1. –î–æ–±–∞–≤—å view –≤ `AppView` type ([types.ts:82](types.ts:82))
2. –°–æ–∑–¥–∞–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –≤ `/components/YourView.tsx`
3. –î–æ–±–∞–≤—å case –≤ `renderCabinetContent()` –∏–ª–∏ —Å–æ–∑–¥–∞–π –Ω–æ–≤—ã–π layout ([App.tsx](App.tsx))
4. –î–æ–±–∞–≤—å –∫–Ω–æ–ø–∫—É –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –≤ [Sidebar.tsx](components/Sidebar.tsx)
5. –ï—Å–ª–∏ view –∑–∞—â–∏—â—ë–Ω, –¥–æ–±–∞–≤—å –µ–≥–æ –≤ `privateViews` array –≤ `navigateTo()` ([App.tsx](App.tsx))
6. **–û–±–Ω–æ–≤i:** [docs/ARCHITECTURE.md](docs/ARCHITECTURE.md), [docs/UI_COMPONENTS.md](docs/UI_COMPONENTS.md), —ç—Ç–æ—Ç —Ñ–∞–π–ª

**–ü–æ–¥—Ä–æ–±–Ω–µ–µ:** [docs/ARCHITECTURE.md - "View System"](docs/ARCHITECTURE.md)

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –º–µ—Ç–æ–¥–∞ –ø—Å–∏—Ö–æ–∞–Ω–∞–ª–∏–∑–∞

1. –î–æ–±–∞–≤—å enum value –≤ `PsychMethod` ([types.ts:2-9](types.ts:2-9))
2. –î–æ–±–∞–≤—å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –≤ `PSYCH_METHODS` array ([constants.ts:4-59](constants.ts:4-59))
3. –î–æ–±–∞–≤—å switch case –≤ `buildPrompt()` –≤ BaseProvider ([services/ai/providers/BaseProvider.ts](services/ai/providers/BaseProvider.ts))
4. **–û–±–Ω–æ–≤i:** [docs/TYPES_AND_CONSTANTS.md](docs/TYPES_AND_CONSTANTS.md), [docs/DREAM_ANALYSIS.md](docs/DREAM_ANALYSIS.md), —ç—Ç–æ—Ç —Ñ–∞–π–ª

### –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ö–µ–º—ã –ë–î

1. **–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û:** –ü—Ä–æ–≤–µ—Ä—å —Ç–µ–∫—É—â—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É —á–µ—Ä–µ–∑ `mcp__supabase__list_tables` (–Ω–µ —Ç–æ–ª—å–∫–æ SQL —Ñ–∞–π–ª—ã!)
2. –°–æ–∑–¥–∞–π –º–∏–≥—Ä–∞—Ü–∏—é –≤ `/supabase/migrations/YYYYMMDD_description.sql`
3. –ü—Ä–∏–º–µ–Ω–∏ –º–∏–≥—Ä–∞—Ü–∏—é —á–µ—Ä–µ–∑ Supabase SQL Editor –∏–ª–∏ CLI
4. –û–±–Ω–æ–≤–∏ RLS –ø–æ–ª–∏—Ç–∏–∫–∏ (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
5. –û–±–Ω–æ–≤–∏ TypeScript —Ç–∏–ø—ã –≤ [types.ts](types.ts)
6. **–û–±–Ω–æ–≤i:** [docs/DATABASE.md](docs/DATABASE.md), [docs/TYPES_AND_CONSTANTS.md](docs/TYPES_AND_CONSTANTS.md), —ç—Ç–æ—Ç —Ñ–∞–π–ª

**–í–ê–ñ–ù–û:** –í—Å–µ–≥–¥–∞ –ø—Ä–æ–≤–µ—Ä—è–π —Ä–µ–∞–ª—å–Ω—É—é –ë–î, –∞ –Ω–µ —Ç–æ–ª—å–∫–æ –º–∏–≥—Ä–∞—Ü–∏–∏! –°—Ö–µ–º–∞ –º–æ–∂–µ—Ç –æ—Ç–ª–∏—á–∞—Ç—å—Å—è.

**–ü–æ–¥—Ä–æ–±–Ω–µ–µ:** [docs/DATABASE.md](docs/DATABASE.md)

### –†–∞–±–æ—Ç–∞ —Å Supabase

–ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç MCP-—Å–µ—Ä–≤–µ—Ä Supabase –¥–ª—è –ø—Ä—è–º–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –∫ –ë–î. –î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:

```bash
# –°–ø–∏—Å–æ–∫ —Ç–∞–±–ª–∏—Ü
mcp__supabase__list_tables

# –°–ø–∏—Å–æ–∫ –º–æ–¥–µ–ª–µ–π AI
mcp__supabase__execute_sql
# query: "SELECT * FROM ai_models WHERE provider_type = 'openai'"

# –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–∏
mcp__supabase__apply_migration
# name: add_new_feature
# query: "CREATE TABLE..."
```

**–ü–æ–¥—Ä–æ–±–Ω–µ–µ:** [docs/DATABASE.md](docs/DATABASE.md), [docs/DEVELOPMENT.md](docs/DEVELOPMENT.md)

---

## üö¢ Deployment (Vercel)

1. –ò–º–ø–æ—Ä—Ç–∏—Ä—É–π GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –≤ Vercel
2. Framework: **Vite**
3. Environment Variables:
   - `VITE_API_KEY` = Gemini key (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—à—å)
   - `VITE_SUPABASE_URL` = Supabase project URL
   - `VITE_SUPABASE_ANON_KEY` = Supabase anon key
   - `VITE_OPENAI_API_KEY` = OpenAI key (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
   - `VITE_CLAUDE_API_KEY` = Claude key (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
   - `VITE_AITUNNEL_KEY` = AiTunnel key (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
   - `VITE_NEUROAPI_KEY` = NeuroAPI key (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
4. Auto-deploy –ø—Ä–∏ push –≤ `main` branch

**Security Note:** API –∫–ª—é—á–∏ exposed –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ (–ø—Ä–∏–µ–º–ª–µ–º–æ –¥–ª—è personal/prototype). Supabase –∏—Å–ø–æ–ª—å–∑—É–µ—Ç RLS –¥–ª—è –∑–∞—â–∏—Ç—ã –¥–∞–Ω–Ω—ã—Ö - anon key –±–µ–∑–æ–ø–∞—Å–µ–Ω –¥–ª—è –ø—É–±–ª–∏–∫–∞—Ü–∏–∏.

**–ü–æ–¥—Ä–æ–±–Ω–µ–µ:** [docs/DEVELOPMENT.md - "–î–µ–ø–ª–æ–π –Ω–∞ Vercel"](docs/DEVELOPMENT.md)

---

## ‚öôÔ∏è –ö–ª—é—á–µ–≤—ã–µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã

### –ü–æ–ª—É—á–µ–Ω–∏–µ API –∫–ª—é—á–µ–π

–§—É–Ω–∫—Ü–∏—è `getApiKey()` –≤ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞—Ö –∏–º–µ–µ—Ç multi-fallback –ª–æ–≥–∏–∫—É:

1. `import.meta.env.VITE_[PROVIDER]_API_KEY` (Vite standard)
2. `process.env.VITE_[PROVIDER]_API_KEY` (legacy/server)
3. `process.env.[PROVIDER]_API_KEY` (–±–µ–∑ –ø—Ä–µ—Ñ–∏–∫—Å–∞)
4. –í–æ–∑–≤—Ä–∞—Ç –ø—É—Å—Ç–æ–π —Å—Ç—Ä–æ–∫–∏ –µ—Å–ª–∏ –≤—Å—ë –Ω–µ –Ω–∞–π–¥–µ–Ω–æ

–ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –æ—à–∏–±–∫–∏ –≤ —Ä–∞–∑–Ω—ã—Ö runtime –æ–∫—Ä—É–∂–µ–Ω–∏—è—Ö (Vite dev, Vercel production, Node).

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

- –í–∞–ª–∏–¥–∞—Ü–∏—è API –∫–ª—é—á–µ–π –≤–Ω—É—Ç—Ä–∏ —Ñ—É–Ω–∫—Ü–∏–π (–Ω–µ –Ω–∞ —É—Ä–æ–≤–Ω–µ –º–æ–¥—É–ª—è) –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è initialization errors
- JSON parsing —Å repair –ª–æ–≥–∏–∫–æ–π –¥–ª—è –Ω–µ–∑–∞–∫—Ä—ã—Ç—ã—Ö quotes/brackets (—á–∞—Å—Ç–∞—è –ø—Ä–æ–±–ª–µ–º–∞ —Å AI truncation)
- –í—Å–µ AI –≤—ã–∑–æ–≤—ã –æ–±—ë—Ä–Ω—É—Ç—ã –≤ try-catch —Å user-friendly —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏ –æ–± –æ—à–∏–±–∫–∞—Ö

### State Management

**–ù–µ—Ç Redux/Zustand.** –í—Å—ë —Å–æ—Å—Ç–æ—è–Ω–∏–µ –≤ [App.tsx](App.tsx) —á–µ—Ä–µ–∑ `useState`:

- `view` (—Ç–µ–∫—É—â–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞)
- `step` (–ø—Ä–æ–≥—Ä–µ—Å—Å wizard, 1-4)
- `dreamData` (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π input —Å–Ω–∞)
- `mobileMenuOpen` (toggle sidebar)
- `user` (–æ–±—ä–µ–∫—Ç –∑–∞–ª–æ–≥–∏–Ω–µ–Ω–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, null –µ—Å–ª–∏ –Ω–µ –∑–∞–ª–æ–≥–∏–Ω–µ–Ω)
- `authLoading` (loading state –ø—Ä–∏ –ø—Ä–æ–≤–µ—Ä–∫–µ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏)
- `selectedDream` (–≤—ã–±—Ä–∞–Ω–Ω—ã–π —Å–æ–Ω –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞)
- `adminSubView` (—Ç–µ–∫—É—â–∏–π —Ä–∞–∑–¥–µ–ª –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏)

**–ü–æ–¥—Ä–æ–±–Ω–µ–µ:** [docs/ARCHITECTURE.md - "–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º"](docs/ARCHITECTURE.md)

### Authentication Flow

1. –ü—Ä–∏ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ App: –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π Supabase —Å–µ—Å—Å–∏–∏
2. –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è auth state (login/logout)
3. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –º–∏–≥—Ä–∞—Ü–∏—è localStorage entries –≤ Supabase –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –ª–æ–≥–∏–Ω–µ
4. –ó–∞—â–∏—Ç–∞ private routes (—Ä–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ auth –µ—Å–ª–∏ –Ω–µ –∑–∞–ª–æ–≥–∏–Ω–µ–Ω)
5. –ü—Ä–æ–≤–µ—Ä–∫–∞ admin —Ä–æ–ª–∏ –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏

**–ü–æ–¥—Ä–æ–±–Ω–µ–µ:** [docs/AUTHENTICATION.md](docs/AUTHENTICATION.md)

---

## ‚ö†Ô∏è –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

- **Rate limits:** –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–µ —Ç–∏—Ä—ã AI –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤ –∏–º–µ—é—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, Gemini: 15 RPM)
- **–î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π:** –ó–∞–≤–∏—Å–∏—Ç –æ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ –º–æ–¥–µ–ª—è–º (–Ω–µ–∫–æ—Ç–æ—Ä—ã–µ —Ä–µ–≥–∏–æ–Ω—ã –æ–≥—Ä–∞–Ω–∏—á–µ–Ω—ã)
- **–Ø–∑—ã–∫:** –¢–æ–ª—å–∫–æ —Ä—É—Å—Å–∫–∏–π —è–∑—ã–∫ (hardcoded –≤ –ø—Ä–æ–º–ø—Ç–∞—Ö –∏ UI)
- **Email verification:** –¢—Ä–µ–±—É–µ—Ç—Å—è –¥–ª—è Supabase sign-ups (–Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –≤ Supabase dashboard)

---

## üìö –°–≤—è–∑–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã

### –î–ª—è –≥–ª—É–±–æ–∫–æ–≥–æ –ø–æ–Ω–∏–º–∞–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã:

1. **[docs/ARCHITECTURE.md](docs/ARCHITECTURE.md)** - –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞, routing, state, layouts
2. **[docs/DATABASE.md](docs/DATABASE.md)** - –ü–æ–ª–Ω–∞—è —Å—Ö–µ–º–∞ –ë–î (13 —Ç–∞–±–ª–∏—Ü + RLS)
3. **[docs/AI_PROVIDERS.md](docs/AI_PROVIDERS.md)** - –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ AI –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤
4. **[docs/DREAM_ANALYSIS.md](docs/DREAM_ANALYSIS.md)** - Wizard –∞–Ω–∞–ª–∏–∑–∞ —Å–Ω–æ–≤ (4 —à–∞–≥–∞)
5. **[docs/AUTHENTICATION.md](docs/AUTHENTICATION.md)** - Supabase Auth, —Ä–æ–ª–∏, RLS

### –î–ª—è —Ä–∞–±–æ—Ç—ã —Å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º–∏ –∑–∞–¥–∞—á–∞–º–∏:

6. **[docs/STORAGE.md](docs/STORAGE.md)** - –ì–∏–±—Ä–∏–¥–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ (Supabase + localStorage)
7. **[docs/ADMIN_PANEL.md](docs/ADMIN_PANEL.md)** - –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å (5 —Ä–∞–∑–¥–µ–ª–æ–≤)
8. **[docs/UI_COMPONENTS.md](docs/UI_COMPONENTS.md)** - –ö–∞—Ç–∞–ª–æ–≥ React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ (30+)
9. **[docs/TYPES_AND_CONSTANTS.md](docs/TYPES_AND_CONSTANTS.md)** - TypeScript —Ç–∏–ø—ã –∏ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã
10. **[docs/DEVELOPMENT.md](docs/DEVELOPMENT.md)** - Dev setup, deployment, troubleshooting

---

## üî• –ü–æ–º–Ω–∏ –≥–ª–∞–≤–Ω–æ–µ –ø—Ä–∞–≤–∏–ª–æ

**–ü–µ—Ä–µ–¥ –ª—é–±—ã–º –∏–∑–º–µ–Ω–µ–Ω–∏–µ–º –≤ —Å–∏—Å—Ç–µ–º–µ:**

1. üìñ **–ß–∏—Ç–∞–π —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â—É—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é** (—Å–º. —Ç–∞–±–ª–∏—Ü—É –≤—ã—à–µ)
2. üîç **–ü—Ä–æ–≤–µ—Ä—è–π –∞–∫—Ç—É–∞–ª—å–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ë–î** —á–µ—Ä–µ–∑ Supabase (–µ—Å–ª–∏ —Ä–∞–±–æ—Ç–∞–µ—à—å —Å –ë–î)
3. ‚úçÔ∏è **–í–Ω–æ—Å–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è**
4. üìù **–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –æ–±–Ω–æ–≤–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é** (—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π MD —Ñ–∞–π–ª + —ç—Ç–æ—Ç CLAUDE.md –µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
5. üîó **–ü—Ä–æ–≤–µ—Ä—å cross-references** –º–µ–∂–¥—É –¥–æ–∫—É–º–µ–Ω—Ç–∞–º–∏

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è - —ç—Ç–æ –Ω–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞, —ç—Ç–æ —á–∞—Å—Ç—å –∫–æ–¥–∞. –£—Å—Ç–∞—Ä–µ–≤—à–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Ö—É–∂–µ, —á–µ–º –µ—ë –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ!**
